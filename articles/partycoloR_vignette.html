<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with partycoloR • partycoloR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with partycoloR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">partycoloR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/partycoloR_vignette.html">Getting Started with partycoloR</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lwarode/partycoloR"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started with partycoloR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lwarode/partycoloR/blob/master/vignettes/partycoloR_vignette.Rmd" class="external-link"><code>vignettes/partycoloR_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>partycoloR_vignette.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lwarode/partycoloR" class="external-link">partycoloR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>partycoloR</code> package extracts political party colors
and logos from English Wikipedia party pages. This is useful for
political scientists and data visualization practitioners who want
consistent, recognizable colors for political parties in their charts
and graphs.</p>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<div class="section level3">
<h3 id="extracting-party-colors">Extracting Party Colors<a class="anchor" aria-label="anchor" href="#extracting-party-colors"></a>
</h3>
<p>The main function <code><a href="../reference/get_party_color.html">get_party_color()</a></code> takes Wikipedia URLs
and returns the party’s primary color as a hex code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Single party</span></span>
<span><span class="va">dem_url</span> <span class="op">&lt;-</span> <span class="st">"https://en.wikipedia.org/wiki/Democratic_Party_(United_States)"</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">dem_url</span><span class="op">)</span></span>
<span><span class="co">#&gt; "#0015BC"</span></span>
<span></span>
<span><span class="co"># Multiple parties</span></span>
<span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://en.wikipedia.org/wiki/Democratic_Party_(United_States)"</span>,</span>
<span>  <span class="st">"https://en.wikipedia.org/wiki/Republican_Party_(United_States)"</span>,</span>
<span>  <span class="st">"https://en.wikipedia.org/wiki/Green_Party_of_the_United_States"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">urls</span><span class="op">)</span></span>
<span><span class="co">#&gt; "#0015BC" "#E81B23" "#17AA5C"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extracting-multiple-colors">Extracting Multiple Colors<a class="anchor" aria-label="anchor" href="#extracting-multiple-colors"></a>
</h3>
<p>Some parties have more than one official color. Use
<code>all_colors = TRUE</code> to get all colors:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># German CDU has black and orange</span></span>
<span><span class="va">cdu_url</span> <span class="op">&lt;-</span> <span class="st">"https://en.wikipedia.org/wiki/Christian_Democratic_Union_of_Germany"</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">cdu_url</span>, all_colors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "#000000" "#FF6600"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extracting-party-logos">Extracting Party Logos<a class="anchor" aria-label="anchor" href="#extracting-party-logos"></a>
</h3>
<p>Use <code><a href="../reference/get_party_logo.html">get_party_logo()</a></code> to get the URL of the party’s logo
image:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_party_logo.html">get_party_logo</a></span><span class="op">(</span><span class="va">dem_url</span><span class="op">)</span></span>
<span><span class="co">#&gt; "https://upload.wikimedia.org/wikipedia/commons/thumb/..."</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="downloading-party-logos">Downloading Party Logos<a class="anchor" aria-label="anchor" href="#downloading-party-logos"></a>
</h3>
<p>You can download logos to a local file using
<code><a href="../reference/download_party_logo.html">download_party_logo()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get logo URL and download it</span></span>
<span><span class="va">logo_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_party_logo.html">get_party_logo</a></span><span class="op">(</span><span class="va">dem_url</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/download_party_logo.html">download_party_logo</a></span><span class="op">(</span><span class="va">logo_url</span>, <span class="st">"democratic_logo.png"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use a pipeline with get_party_logo_by_name()</span></span>
<span><span class="fu"><a href="../reference/get_party_logo_by_name.html">get_party_logo_by_name</a></span><span class="op">(</span><span class="st">"SPD"</span>, country <span class="op">=</span> <span class="st">"DEU"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="../reference/download_party_logo.html">download_party_logo</a></span><span class="op">(</span><span class="st">"spd_logo.svg"</span><span class="op">)</span></span></code></pre></div>
<p>Note that the file extension should match the actual image format.
Many Wikipedia logos are SVGs, so check the URL to determine the correct
extension.</p>
</div>
<div class="section level3">
<h3 id="getting-both-at-once">Getting Both at Once<a class="anchor" aria-label="anchor" href="#getting-both-at-once"></a>
</h3>
<p>For efficiency, use <code><a href="../reference/get_party_info.html">get_party_info()</a></code> to extract both
color and logo in a single request:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_party_info.html">get_party_info</a></span><span class="op">(</span><span class="va">urls</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span><span class="co">#&gt;   url                                                      color   logo_url</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                                    &lt;chr&gt;   &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 https://en.wikipedia.org/wiki/Democratic_Party_(Unite... #0015BC https://...</span></span>
<span><span class="co">#&gt; 2 https://en.wikipedia.org/wiki/Republican_Party_(Unite... #E81B23 https://...</span></span>
<span><span class="co">#&gt; 3 https://en.wikipedia.org/wiki/Green_Party_of_the_Unit... #17AA5C https://...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-dplyr">Working with dplyr<a class="anchor" aria-label="anchor" href="#working-with-dplyr"></a>
</h2>
<p>The functions are designed to work seamlessly with
<code>dplyr::mutate()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parties</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Democrats"</span>, <span class="st">"Republicans"</span>, <span class="st">"Greens"</span><span class="op">)</span>,</span>
<span>  wiki_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Democratic_Party_(United_States)"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Republican_Party_(United_States)"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Green_Party_of_the_United_States"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">parties</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    color <span class="op">=</span> <span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">wiki_url</span><span class="op">)</span>,</span>
<span>    logo <span class="op">=</span> <span class="fu"><a href="../reference/get_party_logo.html">get_party_logo</a></span><span class="op">(</span><span class="va">wiki_url</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="working-with-multiple-colors">Working with Multiple Colors<a class="anchor" aria-label="anchor" href="#working-with-multiple-colors"></a>
</h3>
<p>When using <code>all_colors = TRUE</code>, the result is a
list-column. Use <code>purrr</code> functions to extract specific
colors:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">german_parties</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CDU"</span>, <span class="st">"SPD"</span><span class="op">)</span>,</span>
<span>  wiki_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Christian_Democratic_Union_of_Germany"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Social_Democratic_Party_of_Germany"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract all colors as a list-column, then extract individual colors</span></span>
<span><span class="va">german_parties</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    all_colors <span class="op">=</span> <span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">wiki_url</span>, all_colors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    color_1 <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_chr</a></span><span class="op">(</span><span class="va">all_colors</span>, <span class="va">pluck</span>, <span class="fl">1</span>, <span class="fl">1</span>, .default <span class="op">=</span> <span class="cn">NA_character_</span><span class="op">)</span>,</span>
<span>    color_2 <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_chr</a></span><span class="op">(</span><span class="va">all_colors</span>, <span class="va">pluck</span>, <span class="fl">1</span>, <span class="fl">2</span>, .default <span class="op">=</span> <span class="cn">NA_character_</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 x 5</span></span>
<span><span class="co">#&gt;   party wiki_url                              all_colors color_1 color_2</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                                 &lt;list&gt;     &lt;chr&gt;   &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 CDU   https://en.wikipedia.org/wiki/Chris.. &lt;list [1]&gt; #000000 #FF6600</span></span>
<span><span class="co">#&gt; 2 SPD   https://en.wikipedia.org/wiki/Soci..  &lt;list [1]&gt; #E3000F NA</span></span></code></pre></div>
<p>Alternatively, unnest to long format (one row per color):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">german_parties</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>all_colors <span class="op">=</span> <span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">wiki_url</span>, all_colors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu">unnest_longer</span><span class="op">(</span><span class="va">all_colors</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu">unnest_longer</span><span class="op">(</span><span class="va">all_colors</span>, values_to <span class="op">=</span> <span class="st">"color"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span><span class="co">#&gt;   party wiki_url                                               color</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                                                  &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 CDU   https://en.wikipedia.org/wiki/Christian_Democratic...  #000000</span></span>
<span><span class="co">#&gt; 2 CDU   https://en.wikipedia.org/wiki/Christian_Democratic...  #FF6600</span></span>
<span><span class="co">#&gt; 3 SPD   https://en.wikipedia.org/wiki/Social_Democratic_Pa...  #E3000F</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-party-facts-integration">Using Party Facts Integration<a class="anchor" aria-label="anchor" href="#using-party-facts-integration"></a>
</h2>
<p>If you don’t have Wikipedia URLs, you can look up parties by name
using the <a href="https://partyfacts.herokuapp.com/" class="external-link">Party Facts</a>
database integration.</p>
<div class="section level3">
<h3 id="download-party-facts-data">Download Party Facts Data<a class="anchor" aria-label="anchor" href="#download-party-facts-data"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download the current Party Facts Wikipedia dataset</span></span>
<span><span class="va">pf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_partyfacts_wikipedia.html">get_partyfacts_wikipedia</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pf_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 x 8</span></span>
<span><span class="co">#&gt;   country partyfacts_id url         name_short name  name_native year_founded</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;              &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 AFG              6641 https://... NA         Afgh... NA                 1966</span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="look-up-parties-by-name">Look Up Parties by Name<a class="anchor" aria-label="anchor" href="#look-up-parties-by-name"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for a party by name</span></span>
<span><span class="fu"><a href="../reference/lookup_party_url.html">lookup_party_url</a></span><span class="op">(</span><span class="st">"SPD"</span>, country <span class="op">=</span> <span class="st">"DEU"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 x 8</span></span>
<span><span class="co">#&gt;   country partyfacts_id url                             name_short name</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;                           &lt;chr&gt;      &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 DEU              1375 https://en.wikipedia.org/wiki/... SPD      Social...</span></span>
<span></span>
<span><span class="co"># Search across all countries</span></span>
<span><span class="fu"><a href="../reference/lookup_party_url.html">lookup_party_url</a></span><span class="op">(</span><span class="st">"Labour"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="convenience-function">Convenience Function<a class="anchor" aria-label="anchor" href="#convenience-function"></a>
</h3>
<p>Use <code><a href="../reference/get_party_color_by_name.html">get_party_color_by_name()</a></code> to combine lookup and
color extraction:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get SPD color directly by name</span></span>
<span><span class="fu"><a href="../reference/get_party_color_by_name.html">get_party_color_by_name</a></span><span class="op">(</span><span class="st">"SPD"</span>, country <span class="op">=</span> <span class="st">"DEU"</span><span class="op">)</span></span>
<span><span class="co">#&gt; "#E3000F"</span></span>
<span></span>
<span><span class="co"># If multiple parties match, returns a tibble with all matches</span></span>
<span><span class="fu"><a href="../reference/get_party_color_by_name.html">get_party_color_by_name</a></span><span class="op">(</span><span class="st">"Labour"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12 x 9</span></span>
<span><span class="co">#&gt;    country partyfacts_id url    name_short name  ... color</span></span>
<span><span class="co">#&gt;    ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualization-example">Visualization Example<a class="anchor" aria-label="anchor" href="#visualization-example"></a>
</h2>
<p>Here’s how to use party colors in a ggplot2 visualization:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example data: German 2021 election results</span></span>
<span><span class="va">german_parties</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SPD"</span>, <span class="st">"CDU/CSU"</span>, <span class="st">"Greens"</span>, <span class="st">"FDP"</span>, <span class="st">"AfD"</span>, <span class="st">"Left"</span><span class="op">)</span>,</span>
<span>  vote_share <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25.7</span>, <span class="fl">24.1</span>, <span class="fl">14.8</span>, <span class="fl">11.5</span>, <span class="fl">10.3</span>, <span class="fl">4.9</span><span class="op">)</span>,</span>
<span>  wiki_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Social_Democratic_Party_of_Germany"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Christian_Democratic_Union_of_Germany"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Alliance_90/The_Greens"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Free_Democratic_Party_(Germany)"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/Alternative_for_Germany"</span>,</span>
<span>    <span class="st">"https://en.wikipedia.org/wiki/The_Left_(Germany)"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get party colors</span></span>
<span><span class="va">german_parties</span> <span class="op">&lt;-</span> <span class="va">german_parties</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">wiki_url</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create bar chart with party colors</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">german_parties</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">party</span>, <span class="op">-</span><span class="va">vote_share</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">vote_share</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">german_parties</span><span class="op">$</span><span class="va">color</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"German Federal Election 2021"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Vote Share (%)"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a>
</h2>
<p>The functions handle errors gracefully:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Invalid URLs return NA</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="st">"https://not-wikipedia.com/page"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NA</span></span>
<span></span>
<span><span class="co"># Non-existent pages return NA</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="st">"https://en.wikipedia.org/wiki/Nonexistent_Party_12345"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NA</span></span>
<span></span>
<span><span class="co"># Mixed valid and invalid URLs</span></span>
<span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://en.wikipedia.org/wiki/Democratic_Party_(United_States)"</span>,</span>
<span>  <span class="cn">NA</span>,</span>
<span>  <span class="st">"invalid_url"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_party_color.html">get_party_color</a></span><span class="op">(</span><span class="va">urls</span><span class="op">)</span></span>
<span><span class="co">#&gt; "#0015BC" NA NA</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="caching">Caching<a class="anchor" aria-label="anchor" href="#caching"></a>
</h2>
<p>The Party Facts data is cached in the R session to avoid repeated
downloads:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First call downloads the data</span></span>
<span><span class="va">pf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_partyfacts_wikipedia.html">get_partyfacts_wikipedia</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Subsequent calls use the cache (faster)</span></span>
<span><span class="va">pf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_partyfacts_wikipedia.html">get_partyfacts_wikipedia</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear the cache if needed</span></span>
<span><span class="fu"><a href="../reference/clear_partycolor_cache.html">clear_partycolor_cache</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="tips-and-best-practices">Tips and Best Practices<a class="anchor" aria-label="anchor" href="#tips-and-best-practices"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p><strong>Batch requests</strong>: When processing many parties,
pass all URLs to <code><a href="../reference/get_party_color.html">get_party_color()</a></code> at once rather than
calling it in a loop.</p></li>
<li><p><strong>Cache Party Facts data</strong>: If you’ll be doing
multiple lookups, call <code><a href="../reference/get_partyfacts_wikipedia.html">get_partyfacts_wikipedia()</a></code> once and
pass the result to <code><a href="../reference/lookup_party_url.html">lookup_party_url()</a></code>.</p></li>
<li><p><strong>Handle missing data</strong>: Always check for NA values
in the results, as some Wikipedia pages may not have color information
or may have unexpected formatting.</p></li>
<li><p><strong>Wikipedia changes</strong>: The scraping depends on
Wikipedia’s HTML structure. If results seem wrong, the Wikipedia page
format may have changed.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="related-resources">Related Resources<a class="anchor" aria-label="anchor" href="#related-resources"></a>
</h2>
<ul>
<li>
<a href="https://partyfacts.herokuapp.com/" class="external-link">Party Facts</a> - Party
Facts links datasets on political parties across a wide range of social
science datasets</li>
<li>
<a href="http://www.parlgov.org/" class="external-link">ParlGov</a> - Database on parties,
elections and cabinets from EU and OECD democracies</li>
<li>
<a href="https://lwarode.shinyapps.io/ParlGov_Dashboard/" class="external-link">ParlGov
Dashboard</a> - R Shiny dashboard with data from ParlGov and party
colors from <code>partycoloR</code>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/lwarode" class="external-link">Lukas Warode</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
